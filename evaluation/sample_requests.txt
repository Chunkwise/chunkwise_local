------------------sample requests for MVP with S3 integration---------------

* "sample_document_medium" is the id of the S3 document to evaluate (i.e., document name without extension)

>> request body 1:
{
  "document_id": "sample_document_small",
  "query_generation_config": {
    "num_rounds": 1,
    "queries_per_corpus": 3
  },
  "chunking_configs": [
    {
      "provider": "langchain",
      "chunker_type": "recursive",
      "chunk_size": 300,
      "chunk_overlap": 20
    }
  ]
}

>> response 1: 
{
    "embedding_model": "openai.text-embedding-3-large",
    "corpus_id": "sample_document_small",
    "document_s3_key": "documents/sample_document_small.txt",
    "queries_s3_key": "queries/sample_document_small.csv",
    "queries_generated": true,
    "num_queries": 2,
    "chunkers_evaluated": [
        "langchain recursive"
    ],
    "results": [
        {
            "iou_mean": 0.20287356321839078,
            "recall_mean": 1.0,
            "precision_mean": 0.20287356321839078,
            "precision_omega_mean": 0.6037765621712603
        }
    ]
}

-----------------------
>> request body 2:

* This query uses the existing queries csv file, which was generated and stored
 in S3 in the previous request

{
  "document_id": "sample_document_small",
  "chunking_configs": [
    {
      "provider": "chonkie",
      "chunker_type": "token",
      "chunk_size": 400,
      "chunk_overlap": 20
    }
  ]
}

>> response 2: 
{
  "embedding_model": "openai.text-embedding-3-large",
  "corpus_id": "sample_document_small",
  "document_s3_key": "documents/sample_document_small.txt",
  "queries_s3_key": "queries/sample_document_small.csv",
  "queries_generated": false,
  "num_queries": 2,
  "chunkers_evaluated": [
    "chonkie token"
  ],
  "results": [
    {
      "iou_mean": 0.19138495092693564,
      "recall_mean": 1.0,
      "precision_mean": 0.19138495092693564,
      "precision_omega_mean": 0.3206089743589744
    }
  ]
}

-----------------
>> request body 3 (using a different chunker):
{
  "document_id": "test_document",
  "query_generation_config": {
    "num_rounds": 1,
    "queries_per_corpus": 3
  },
  "chunking_configs": [
    {
      "provider": "chonkie",
      "chunker_type": "token",
      "chunk_size": 400,
      "chunk_overlap": 30
    }
  ]
}

>> response 3:
{
    "embedding_model": "openai.text-embedding-3-large",
    "corpus_id": "test_document",
    "document_s3_key": "documents/test_document.txt",
    "queries_s3_key": "queries/test_document.csv",
    "queries_generated": true,
    "num_queries": 3,
    "chunkers_evaluated": [
        "chonkie token"
    ],
    "results": [
        {
            "iou_mean": 0.18521525215252152,
            "recall_mean": 0.8313253012048193,
            "precision_mean": 0.18733333333333332,
            "precision_omega_mean": 0.23745487217185332
        }
    ]
}

-----------------------
>> request body 4 (langchain character)
{
  "document_id": "sample_document_small",
  "chunking_configs": [
    {
      "provider": "langchain",
      "chunker_type": "character",
      "chunk_size": 400,
      "chunk_overlap": 20
    }
  ]
}

>> response 4:
{
    "embedding_model": "openai.text-embedding-3-large",
    "corpus_id": "sample_document_small",
    "document_s3_key": "documents/sample_document_small.txt",
    "queries_s3_key": "queries/sample_document_small.csv",
    "queries_generated": false,
    "num_queries": 2,
    "chunkers_evaluated": [
        "langchain character"
    ],
    "results": [
        {
            "iou_mean": 0.20287356321839078,
            "recall_mean": 1.0,
            "precision_mean": 0.20287356321839078,
            "precision_omega_mean": 0.6037765621712603
        }
    ]
}

-------------------
>> request body 5 (chonkie sentence):
{
  "document_id": "sample_document_medium",
  "chunking_configs": [
    {
      "provider": "chonkie",
      "chunker_type": "sentence",
      "chunk_size": 400,
      "chunk_overlap": 20,
      "min_sentences_per_chunk": 3
    }
  ]
}

>> response 5:
{
  "embedding_model": "openai.text-embedding-3-large",
  "corpus_id": "sample_document_medium",
  "document_s3_key": "documents/sample_document_medium.txt",
  "queries_s3_key": "queries/sample_document_medium.csv",
  "queries_generated": true,
  "num_queries": 5,
  "chunkers_evaluated": [
    "chonkie sentence"
  ],
  "results": [
    {
      "iou_mean": 0.11259697729212119,
      "recall_mean": 0.8533333333333333,
      "precision_mean": 0.1152623476694162,
      "precision_omega_mean": 0.3856579779722213
    }
  ]
}

-----------------
>> request body 6 (chonkie semantic):
{
  "document_id": "sample_document_medium",
  "chunking_configs": [
    {
      "provider": "chonkie",
      "chunker_type": "semantic",
      "chunk_size": 400,
      "chunk_overlap": 20,
      "min_sentences_per_chunk": 3,
      "min_characters_per_sentence": 50
    }
  ]
}

>> response 6:
{
    "embedding_model": "openai.text-embedding-3-large",
    "corpus_id": "sample_document_medium",
    "document_s3_key": "documents/sample_document_medium.txt",
    "queries_s3_key": "queries/sample_document_medium.csv",
    "queries_generated": false,
    "num_queries": 5,
    "chunkers_evaluated": [
        "chonkie semantic"
    ],
    "results": [
        {
            "iou_mean": 0.08392418545807205,
            "recall_mean": 0.757904761904762,
            "precision_mean": 0.08903936643857821,
            "precision_omega_mean": 0.2868478920703101
        }
    ]
}

------------------
>> request body 7 (chonkie slumber):
{
  "document_id": "test_document",
  "chunking_configs": [
    {
      "provider": "chonkie",
      "chunker_type": "slumber",
      "chunk_size": 400,
      "min_characters_per_chunk": 80
    }
  ]
}

>> response 7:
{
    "embedding_model": "openai.text-embedding-3-large",
    "corpus_id": "test_document",
    "document_s3_key": "documents/test_document.txt",
    "queries_s3_key": "queries/test_document.csv",
    "queries_generated": false,
    "num_queries": 5,
    "chunkers_evaluated": [
        "chonkie slumber"
    ],
    "results": [
        {
            "iou_mean": 0.10176496176781272,
            "recall_mean": 0.8990859232175502,
            "precision_mean": 0.10719182005828995,
            "precision_omega_mean": 0.48315932913084847
        }
    ]
}

-----------------------Legacy sample requests (local file storage)-----------------------

>> sample request body 1 (using sample_document_medium.txt + LLM query generation):
{
  "document_path": "data/sample_document_medium.txt",
  "chunking_configs": [
    {
      "provider": "langchain",
      "chunker_type": "langchain_token",
      "chunk_size": 512,
      "chunk_overlap": 0
    }
  ]
}

>> sample results 1 (48.73s - continous generation on existing csv, hence taking longer):
{
    "embedding_model": "text-embedding-3-large",
    "document_id": "sample_document_medium.txt",
    "document_path": "data/sample_document_medium.txt",
    "queries_path": "data/llm_queries_sample_document_medium.csv",
    "queries_generated": true,
    "num_queries": 8,
    "chunkers_evaluated": [
        "langchain_token"
    ],
    "results": [
        {
            "iou_mean": 0.030520086862803164,
            "recall_mean": 1.0,
            "precision_mean": 0.030520086862803164,
            "precision_omega_mean": 0.10372841587025362,
            "chunker_config": {
                "provider": "langchain",
                "chunker_type": "langchain_token",
                "chunk_size": 512,
                "chunk_overlap": 0,
                "encoding_name": "gpt2",
                "model_name": null,
                "allowed_special": [],
                "disallowed_special": "all"
            }
        }
    ]
}

------------------------------------------------

>> sample request body 2 (using sample_document_medium.txt + existing queries):
{
  "document_path": "data/sample_document_medium.txt",
  "queries_path": "data/llm_queries_sample_document_medium.csv",
  "chunking_configs": [
    {
      "chunker_type": "chonkie_token",
      "provider": "chonkie",
      "chunk_size": 400,
      "chunk_overlap": 20
    }
  ]
}

>> sample results 2 (2.17s):
{
    "embedding_model": "text-embedding-3-large",
    "document_id": "sample_document_medium.txt",
    "document_path": "data/sample_document_medium.txt",
    "queries_path": "data/llm_queries_sample_document_medium.csv",
    "queries_generated": false,
    "num_queries": null,
    "chunkers_evaluated": [
        "chonkie_token"
    ],
    "results": [
        {
            "iou_mean": 0.08565892115564278,
            "recall_mean": 0.8503097544492002,
            "precision_mean": 0.0934375,
            "precision_omega_mean": 0.30374950990117716,
            "chunker_config": {
                "provider": "chonkie",
                "tokenizer": "character",
                "chunker_type": "chonkie_token",
                "chunk_size": 400,
                "chunk_overlap": 20
            }
        }
    ]
}

------------------------------------------------

>> sample request body 3 (using sample_document_large.tx + existing queries):
{
  "document_path": "data/sample_document_large.txt",
  "queries_path": "data/llm_queries_sample_document_large.csv",
  "chunking_configs": [
    {
      "chunker_type": "langchain_recursive",
      "provider": "langchain",
      "chunk_size": 512,
      "chunk_overlap": 0
    }
  ]
}

>> sample results 3 (1857ms):
{
    "embedding_model": "text-embedding-3-large",
    "document_id": "sample_document_large.txt",
    "document_path": "data/sample_document_large.txt",
    "queries_path": "data/llm_queries_sample_document_large.csv",
    "queries_generated": false,
    "num_queries": null,
    "chunkers_evaluated": [
        "langchain_recursive"
    ],
    "results": [
        {
            "iou_mean": 0.06658228268349324,
            "recall_mean": 0.5855245753272069,
            "precision_mean": 0.06722162922271713,
            "precision_omega_mean": 0.4669151372307604,
            "chunker_config": {
                "provider": "langchain",
                "chunk_size": 512,
                "chunk_overlap": 0,
                "length_function": "len",
                "keep_separator": true,
                "add_start_index": false,
                "strip_whitespace": true,
                "chunker_type": "langchain_recursive",
                "separators": null,
                "is_separator_regex": false
            }
        }
    ]
}